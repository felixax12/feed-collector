Hier sind 10 sinnvolle Zusatz-Kennzahlen für euer 1.5-Sekunden-Raster – jeweils mit kurzer Begründung, Inputs, und einer präzisen Definition/Skizze:

Volume-weighted Effective Spread & Realized Spread(+5s)
• Idee: Transaktions-Kosten/Adverse Selection messen.
• Inputs: Trades (Preis, Side), Mid zum Trade-Zeitpunkt und 5s später.
• Definition:
– EffectiveSpread_bps = 2 · side · (trade_price − mid_t)/mid_t · 10 000, side=+1 für Taker-Buy, −1 für Taker-Sell; VW gewichtet über Trades im Fenster.
– RealizedSpread5s_bps = 2 · side · (trade_price − mid_t+5s)/mid_t · 10 000; VW über Trades.
• Warum jetzt loggen: benötigt Look-ahead; Online mit Rolling-Buffer robuster als spätes Backfill.

Kyle/Hasbrouck Impact-Koeffizient (λ̂) je Fenster
• Idee: Sofortiger Preis-Impact pro gehandeltem Volumen.
• Inputs: Δmid über Fenster, signiertes Volumen (z. B. Taker-Buy Vol − Taker-Sell Vol).
• Definition: λ̂ = |Δmid| / max(ε, |signed_vol_quote|). Optional robust: median(|Δmid| / |ΔCV D|).
• Nutzen: Liquidity/Impact-Regime, Feature für Execution-Algorithmen.

Amihud Illiquidity (Ami)
• Idee: Preisänderung pro Notional – alternative Illiquiditäts-Metrik.
• Inputs: |Δmid|, Quote-Volumen.
• Definition: Ami = |Δmid| / max(ε, vol_quote_window).
• Nutzen: Vergleichbarkeit über Symbole/Zeiten, Outlier-Filter.

VPIN (Kurz-Horizont, volumen-synchronisiert)
• Idee: Order-Imbalance-Risiko; Proxy für „informed flow“.
• Inputs: Volumen-Buckets (z. B. Buckets à X USDT Notional), |BuyVol − SellVol| pro Bucket, rollierend über N Buckets.
• Definition: VPIN = avg_bucket(|ΔVol|)/avg_bucket(TotalVol) über letzte N Buckets (z. B. entspricht ~30–60 min).
• Nutzen: Stress-/Crash-Frühindikator; Feature für Risk-Downshifts.

Microprice-Edge (MP Edge)
• Idee: Signalstärke des Microprice ggü. Mid kompakt ausdrücken.
• Inputs: mid, microprice (habt ihr).
• Definition: mp_edge_bps = (microprice − mid)/mid · 10 000.
• Nutzen: Directional Lean quantifizieren; simple Feature, noch nicht explizit vorhanden (ihr loggt microprice und drift, aber nicht die Edge selbst). 

clickhouse_metrics_overview

L1 Queue Depletion Time (QDT)
• Idee: Zeit-bis-Erschöpfung der Best-Bid/Ask-Queues unter aktuellem Verbrauch.
• Inputs: best_bid_qty/best_ask_qty; geschätzte Konsumrate aus jüngsten Marktorders (z. B. Taker-Vol auf der jeweiligen Seite in den letzten 1–3 s).
• Definition: qdt_bid_s = best_bid_qty / max(ε, consume_rate_bid); analog ask.
• Nutzen: Sweep-/Jump-Gefahr früh sichtbar; gutes Echtzeit-Execution-Signal.

Infra-Latenz & Datenintegrität (p50/p95 & Gap/Dup-Rates)
• Idee: Betriebsqualität messen, nicht nur Markt-Kennzahlen.
• Inputs: Event-Timestamp vs. Collector-Timestamp, Sequenz-IDs/Update-IDs.
• Definition:
– ws_latency_ms_p50/p95 innerhalb des Fensters,
– gap_count_depth, dup_count_depth, gap_rate = gaps/updates.
• Nutzen: Erklärt Artefakte (z. B. scheinbare Jumps), verbessert Backtests/Label-Hygiene. (Ihr habt depth_update_rate_hz und resynced_this_window, aber keine Latenz-/Gap-Kennzahlen.) 

clickhouse_metrics_overview

Liquidity Concentration Entropy (OB-Entropie)
• Idee: Wie „konzentriert“ ist Liquidität über Level verteilt?
• Inputs: Top-20 Bid/Ask Quantities.
• Definition: Für jede Seite p_i = qty_i / Σ qty; Entropie H = −Σ p_i log p_i; optional normiert durch log(N).
• Nutzen: Unterscheidet breite vs. spitze Bücher; Ergänzung zu Slope/Curvature.

Variance Ratio (VR 200ms→1.5s)
• Idee: Momentum vs. Mean-Reversion-Regime.
• Inputs: Returns auf 200 ms und 1.5 s (z. B. Mid-Returns).
• Definition: VR = Var(R_1.5s) / (k · Var(R_200ms)), k = 1.5s/0.2s=7.5; <1 reversionär, >1 trendend.
• Nutzen: Regime-Label für Strategien, ergänzt eure RV-Metriken. 

clickhouse_metrics_overview

Basis zu Index & Funding-adjusted Basis-Drift
• Idee: Perp-Basis präziser fassen als nur Mark-Premium.
• Inputs: mid, index_price, funding_rate.
• Definition:
– index_basis_bps = (mid − index_price)/index_price · 10 000,
– basis_drift_bps = Δ(index_basis_bps) im Fenster,
– funding_adj_basis_bps ≈ index_basis_bps − (funding_rate · 8h/Tag · Tagesanteil bis „next_funding“).
• Nutzen: Carry-Signale, Funding-Arbitrage; ihr habt Mark-Premium bereits, aber nicht die explizite Mid-vs-Index-Basis und deren Drift. 

clickhouse_metrics_overview